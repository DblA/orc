
orc-pixel
=========

Orc-pixel is a quick and dirty library showing how to extend Orc
by adding opcodes and opcode rules.  It implements compositing
pixel operations, or rather, it implements _one_ compositing pixel
operation, "IN".

At some point, the x86_ functions in orcpixel-sse.c that are copied
from orc/x86.c and orc/orcrules-sse.c will be converted to exported
functions in liborc.

The code generated by orcpixel-sse.c does not produce correct
results unless loop_shift is 0 or 1.  This patch will force that to
be true:


diff --git a/orc/orcprogram-sse.c b/orc/orcprogram-sse.c
index 01ae501..29f8c10 100644
--- a/orc/orcprogram-sse.c
+++ b/orc/orcprogram-sse.c
@@ -108,6 +108,7 @@ orc_compiler_sse_init (OrcCompiler *compiler)
           orc_program_get_max_var_size (compiler->program));
       break;
   }
+compiler->loop_shift = 1;
 
   //compiler->long_jumps = TRUE;
 }
